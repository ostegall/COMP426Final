(this["webpackJsonpfront-end"]=this["webpackJsonpfront-end"]||[]).push([[0],{42:function(e,t,a){},44:function(e,t,a){"use strict";a.r(t);var n,r,s,i,c,o,l,u,j,h,d,b,p,O,v,m=a(1),x=a.n(m),f=a(26),U=a.n(f),C=a(5),g=a(6),y=a(8),A=a(7),S=a(15),k=a(9),F=a(3),q=a(4),K=a(0),w=q.a.div.attrs({className:"collpase navbar-collapse"})(n||(n=Object(F.a)([""]))),Q=q.a.div.attrs({className:"navbar-nav mr-auto"})(r||(r=Object(F.a)([""]))),I=q.a.div.attrs({className:"collpase navbar-collapse"})(s||(s=Object(F.a)([""]))),N=function(e){Object(y.a)(a,e);var t=Object(A.a)(a);function a(){return Object(C.a)(this,a),t.apply(this,arguments)}return Object(g.a)(a,[{key:"render",value:function(){return Object(K.jsxs)(x.a.Fragment,{children:[Object(K.jsx)("header",{class:"navbar-brand",children:"Ultimate Tic Tac Toe"}),Object(K.jsx)(w,{children:Object(K.jsxs)(Q,{children:[Object(K.jsx)(I,{children:Object(K.jsx)(S.b,{to:"/",className:"nav-link",children:"Login"})}),Object(K.jsx)(I,{children:Object(K.jsx)(S.b,{to:"/createaccount",className:"nav-link",children:"Create Account"})}),Object(K.jsx)(I,{})]})})]})}}]),a}(m.Component),V=q.a.div.attrs({className:"collpase navbar-collapse"})(i||(i=Object(F.a)([""]))),z=q.a.div.attrs({className:"navbar-nav mr-auto"})(c||(c=Object(F.a)([""]))),H=q.a.div.attrs({className:"collpase navbar-collapse"})(o||(o=Object(F.a)([""]))),E=function(e){Object(y.a)(a,e);var t=Object(A.a)(a);function a(){return Object(C.a)(this,a),t.apply(this,arguments)}return Object(g.a)(a,[{key:"render",value:function(){return Object(K.jsxs)(x.a.Fragment,{children:[Object(K.jsx)(S.b,{to:"/game",className:"navbar-brand",children:"Ultimate Tic Tac Toe"}),Object(K.jsx)(V,{children:Object(K.jsxs)(z,{children:[Object(K.jsx)(H,{}),Object(K.jsx)(H,{}),Object(K.jsx)(H,{children:Object(K.jsx)(S.b,{to:"/settings",className:"nav-link",children:"Settings"})})]})})]})}}]),a}(m.Component),B=q.a.a.attrs({className:"navbar-brand"})(l||(l=Object(F.a)([""]))),T=function(e){Object(y.a)(a,e);var t=Object(A.a)(a);function a(){return Object(C.a)(this,a),t.apply(this,arguments)}return Object(g.a)(a,[{key:"render",value:function(){return Object(K.jsx)(B,{children:Object(K.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAVQAAAFUCAMAAABMTDSHAAAAjVBMVEVHcEwgICAkHyEkHyEoICAkICAkICAAAAAjICAkICAkHyEAAAAAAAAAAAAkJCQjHiAjHyEjIyMlICAiIiIqKiojICAkHyEkICAjHyAkHyAjHyAjICAlHiJAQEAjHyEjHyEmICAkICAjHyAgICAkHyAjICAkHyAjICAkICAjICAjHyAjHyAjHyAAAAAjHyCv0HdPAAAALXRSTlMAGJysIIDAgKBAZOcsvxy42yQwPAxY+3jMz+eYTAS8fChwwBDQkMhIOLDf778utUuSAAAEMklEQVR42u3d2W7iWhAFUBtDwhQIU+apM/V0Of//efe1RVRISQ4Hg9Z+3bYqtRTbUrsjV5WIiIiIHGTGo9H4WKa0Jqfr9emxTIEKFSpUqFChQoUKFSpUqFChQoUKFSpUqFAPH/XleRl2q9tc614O4+5q1pYp2dJN3bDrneRat9+PuzRoyxSoUKFChQoVKlSoUKFChQoVKlSoUKFChQoVKlSoUKFChQoVKlSoX85kEGaVVmHXf43PG9x/WHcRHzydxl36EXezquSUz6VJ+XO3ue78Iv+Qq6rkFJe/eypUqFChQoUKFSpUqFChQoUKFSpUqFChQoUKFSpUqFChQoUKFWqbUIf9ME1qwu76Jj6vU2+uW3fio8/P4y5N425YlZyyd9T+U4l1L6uSU1z+7qlQoUKFChUqVKhQoUKFChUqVKhQoUKFChUqVKhQoUKFChUqVKgHgjpJk7B7fMi1bqcTdxeLtkzJl3lcLbN9fa+uv/QDFJ7SmvgaJVSoUKFChbp/1PFpyZyt12fHMuWfjDdQR2v5dkZQd4/q8t/B5e9B5ekPFSpUqFChQi2cl+dl2K1uc617ueWvv69mbZmSLV78QYUKFSpUqFChQoUKFSpUqFChQoUKFSpUqFChQoUKFSpUqFChQs2QySDMKq3Crv8anze4/7DuIj54Oo279CPuZlXJKZ9Lk/LnbnPd+UX+IVdVySkuf/dUqFChQoUKFSpUqFChQoUKFSpUqFChQoUKFSpUqFChQoUKFSrUNqEO+2Ga1ITd9U18XqfeXLfuxEefn8ddmsbdsCo5Ze+o/acS615WJae4/N1ToUKFChUqVKhQoUKFChUqVKhQoUKFChUqVKhQoUKFChUqVKhQDwR1kiZh9/iQa91OJ+4uFm2Zki/zuFpm+/peXX/pByg8pTXxNUqoUKFChQp1/6jj05I5W6/PjmXKPxlvoI7W8u2MoO4e1eW/g8vfg8rTHypUqFChQt2aLa8Z6l+51n3a8s/Hd/dtmZIt3S2vUzK+o9ryoiPjO6pvTsmI6sUfVKhQoUKFChUqVKhQoUKFChUqVKhQoUKFChUqVKhQoUKFChUq1G+ndxLmPb2H3Z+/8XknvzbXnT3EB9/cxF16jbvbquSUz+VnL8xbegu7//7E5/U+fOZj+RgffH0dd6kfd6uq5BSXv3sqVKhQoUKFChUqVKhQoUKFChUqVKhQoUKFChUqVKhQoUKFCvXLWXbDLNIi7N7e4/MmH9edxEc3TdylVdwti075XH6n/BlsrjvfwZDnquSUvf+mdov8Dr0UneKe6kEFFSpUqFChQoUKFSpUqFChQoUKFSpUqFChQoUKFSpUqFChQoV6IKjL3/F/z/rZy7XucBh3zaQtU1oTX6OEChUqVKhQoUKFChUqVKhQoUKFChUqVKhQjynj0Wh8LFNEREREZBf5HzRwp7GfQP9ZAAAAAElFTkSuQmCC",width:"50",height:"50"})})}}]),a}(m.Component),X=q.a.div.attrs({className:"container"})(u||(u=Object(F.a)([""]))),L=q.a.nav.attrs({className:"navbar navbar-expand-lg navbar-dark bg-dark"})(j||(j=Object(F.a)(["\n    margin-bottom: 20 px;\n"]))),W=function(e){Object(y.a)(a,e);var t=Object(A.a)(a);function a(){return Object(C.a)(this,a),t.apply(this,arguments)}return Object(g.a)(a,[{key:"render",value:function(){return Object(K.jsx)(X,{children:Object(K.jsxs)(L,{children:[Object(K.jsx)(T,{}),Object(K.jsx)(E,{})]})})}}]),a}(m.Component),D=q.a.div.attrs({className:"container"})(h||(h=Object(F.a)([""]))),J=q.a.nav.attrs({className:"navbar navbar-expand-lg navbar-dark bg-dark"})(d||(d=Object(F.a)(["\n    margin-bottom: 20 px;\n"]))),M=function(e){Object(y.a)(a,e);var t=Object(A.a)(a);function a(){return Object(C.a)(this,a),t.apply(this,arguments)}return Object(g.a)(a,[{key:"render",value:function(){return Object(K.jsx)(D,{children:Object(K.jsxs)(J,{children:[Object(K.jsx)(T,{}),Object(K.jsx)(N,{})]})})}}]),a}(m.Component),R=a(10),Z=a(45),P=q.a.div(b||(b=Object(F.a)(["\n    padding: 0 80px 80px 162.5px;\n"]))),G=function(e){Object(y.a)(a,e);var t=Object(A.a)(a);function a(e){var n;return Object(C.a)(this,a),(n=t.call(this,e)).state={loggedOut:!1},n.handleLogout=n.handleLogout.bind(Object(R.a)(n)),n}return Object(g.a)(a,[{key:"handleLogout",value:function(e){localStorage.removeItem("user"),this.setState({loggedOut:!0})}},{key:"render",value:function(){return!0===this.state.loggedOut&&(this.setState({loggedOut:!1}),this.props.history.push("/")),Object(K.jsxs)("div",{children:[Object(K.jsx)("div",{children:Object(K.jsx)(W,{})}),Object(K.jsx)(P,{children:Object(K.jsx)("div",{children:Object(K.jsxs)("div",{children:[Object(K.jsx)("h2",{children:"Logout"}),Object(K.jsx)(Z.a,{variant:"primary",onClick:this.handleLogout,type:"submit",children:"Logout"})]})})})]})}}]),a}(m.Component),Y=q.a.div(p||(p=Object(F.a)(["\n    padding: 0 80px 80px 162.5px;\n"]))),_=function(e){Object(y.a)(a,e);var t=Object(A.a)(a);function a(e){var n;return Object(C.a)(this,a),(n=t.call(this,e)).handleSubmit=n.handleSubmit.bind(Object(R.a)(n)),n.usernameUpdate=n.usernameUpdate.bind(Object(R.a)(n)),n.passwordUpdate=n.passwordUpdate.bind(Object(R.a)(n)),n.state={username:"",password:"",message:""},n}return Object(g.a)(a,[{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();fetch("http://localhost:9000/login/get/",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){for(var a=0;a<e.data.length;a++){if(e.data[a].name===t.state.username&&e.data[a].password===t.state.password){localStorage.setItem("user",JSON.stringify(e.data[a]._id)),t.setState({redirect:!0,user:JSON.parse(localStorage.getItem("user"))}),t.props.history.push("/game");break}document.getElementById("error").innerText="Unable to log in"}})).catch((function(e){console.error("Error:",e),document.getElementById("error").innerText="Unable to log in"}))}},{key:"usernameUpdate",value:function(e){this.setState({username:e.target.value})}},{key:"passwordUpdate",value:function(e){this.setState({password:e.target.value})}},{key:"render",value:function(){return Object(K.jsxs)("div",{children:[Object(K.jsx)("div",{children:Object(K.jsx)(M,{})}),Object(K.jsx)(Y,{children:Object(K.jsxs)("div",{children:[Object(K.jsx)("div",{children:Object(K.jsx)("h2",{children:"Login"})}),Object(K.jsx)("div",{children:Object(K.jsx)("div",{children:Object(K.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(K.jsx)("label",{children:"Username:"}),Object(K.jsx)("input",{required:!0,onChange:this.usernameUpdate}),Object(K.jsx)("label",{children:"Password"}),Object(K.jsx)("input",{required:!0,type:"password",onChange:this.passwordUpdate}),Object(K.jsx)("div",{children:Object(K.jsx)(Z.a,{variant:"primary",type:"submit",children:"Login"})})]})})}),Object(K.jsx)("div",{children:Object(K.jsx)("p",{id:"error",style:{color:"red"}})})]})})]})}}]),a}(m.Component),$=q.a.div(O||(O=Object(F.a)(["\n    padding: 0 80px 80px 162.5px;\n"]))),ee=function(e){Object(y.a)(a,e);var t=Object(A.a)(a);function a(e){var n;return Object(C.a)(this,a),(n=t.call(this,e)).handleSubmit=n.handleSubmit.bind(Object(R.a)(n)),n.usernameUpdate=n.usernameUpdate.bind(Object(R.a)(n)),n.passwordUpdate=n.passwordUpdate.bind(Object(R.a)(n)),n.state={username:"",password:"",message:""},n}return Object(g.a)(a,[{key:"usernameUpdate",value:function(e){this.setState({username:e.target.value})}},{key:"passwordUpdate",value:function(e){this.setState({password:e.target.value})}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();fetch("http://localhost:9000/login/newUser/",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({name:this.state.username,password:this.state.password})}).then((function(e){return e.json()})).then((function(e){console.log("Success:",e),t.props.history.push("/game"),localStorage.setItem("user",JSON.stringify(e.id))})).catch((function(e){document.getElementById("error").innerText="Unable to create account",console.error("Error:",e)}))}},{key:"render",value:function(){return Object(K.jsxs)("div",{children:[Object(K.jsx)("div",{children:Object(K.jsx)(M,{})}),Object(K.jsx)($,{children:Object(K.jsxs)("div",{children:[Object(K.jsx)("div",{children:Object(K.jsx)("h2",{children:"Create Account"})}),Object(K.jsx)("div",{children:Object(K.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(K.jsx)("label",{children:"Username:"}),Object(K.jsx)("input",{required:!0,onChange:this.usernameUpdate}),Object(K.jsx)("label",{children:"Password"}),Object(K.jsx)("input",{required:!0,type:"password",onChange:this.passwordUpdate}),Object(K.jsx)("div",{children:Object(K.jsx)(Z.a,{type:"submit",children:"Submit"})})]})}),Object(K.jsx)("div",{children:Object(K.jsx)("p",{id:"error",style:{color:"red"},children:" "})})]})})]})}}]),a}(m.Component),te=a(30),ae=(a(42),q.a.div(v||(v=Object(F.a)(["\n    padding: 0 0px 0px 162.5px;\n"]))));function ne(e,t,a){for(var n=[],r=0;r<t;r++){for(var s=[],i=0;i<t;i++)s.push(a(r*t+i));n.push(Object(K.jsx)("div",{className:e+"-row",children:s},r))}return Object(K.jsx)("div",{className:e,children:n})}function re(e){var t={};return e.value&&(t.color="X"===e.value?"#2274A5":"#C99418"),e.winner&&("X"===e.winner?t.background="#BBDDF1":t.background="#F6E3B6"),e.clickable&&(t.background="#9ED896"),Object(K.jsx)("button",{className:"square",style:t,onClick:e.onClick,children:e.value})}var se=function(e){Object(y.a)(a,e);var t=Object(A.a)(a);function a(e){var n;return Object(C.a)(this,a),(n=t.call(this,e)).renderSquare=n.renderSquare.bind(Object(R.a)(n)),n}return Object(g.a)(a,[{key:"renderSquare",value:function(e){var t=this;return Object(K.jsx)(re,{value:this.props.squares[e],squares:this.props.squares,winner:this.props.winner,clickable:this.props.clickable,onClick:function(){return t.props.onClick(e)}},e)}},{key:"render",value:function(){return ne("board",this.props.size,this.renderSquare)}}]),a}(x.a.Component),ie=function(e){Object(y.a)(a,e);var t=Object(A.a)(a);function a(e){var n;return Object(C.a)(this,a),(n=t.call(this,e)).state={squares:Array(n.props.size*n.props.size).fill(Array(n.props.size*n.props.size).fill(null)),smallWinners:Array(n.props.size*n.props.size).fill(null),lastMove:{row:null,col:null,largeRow:null,largeCol:null},xIsNext:!0,winner:null},n.renderBoard=n.renderBoard.bind(Object(R.a)(n)),n}return Object(g.a)(a,[{key:"isCurrentBoard",value:function(e){if(this.state.winner)return!1;var t=this.state.lastMove.row,a=this.state.lastMove.col;if(null===t||null===a)return!0;var n=a*this.props.size+t;return this.state.smallWinners[n]?null===this.state.smallWinners[e]:e===n}},{key:"handleClick",value:function(e,t){var a=this,n=this.props.size,r=this.state.squares.slice(),s=this.state.squares[t].slice(),i=this.state.smallWinners.slice();if(!this.state.winner&&this.isCurrentBoard(t)&&!s[e]){s[e]=this.state.xIsNext?"X":"O",r[t]=s;var c={row:Math.floor(e/n),col:e%n,largeRow:Math.floor(t/n),largeCol:t%n},o=this.calculateWinner(s,c);i[t]=o&&s[o[0]];var l=this.calculateWinner(i,{row:c.largeRow,col:c.largeCol}),u=l?i[l[0]]:null;this.setState((function(e,t){return{squares:r,smallWinners:i,lastMove:c,xIsNext:!a.state.xIsNext,winner:u}}))}}},{key:"calculateWinner",value:function(e,t){if(!t||null===t.col||null===t.row)return null;var a=parseInt(this.props.size),n=t.row,r=t.col,s=e[n*a+r];if(null===s)return null;for(var i={row:[],col:[],diag:[],diag2:[]},c=0;c<a;c++)i.row.push(n*a+c);for(var o=0;o<a;o++)i.col.push(o*a+r);if(n===r)for(var l=0;l<a;l++)i.diag.push(l*a+l);if(n+r===a-1)for(var u=0;u<a;u++)i.diag2.push(u*a+a-1-u);for(var j in i){var h=i[j];if(h.length===a)if(h.reduce((function(t,a){return t&&e[a]===s}),!0))return h}return null}},{key:"renderBoard",value:function(e){var t=this;return Object(K.jsx)(se,{size:this.props.size,squares:this.state.squares[e],winner:this.state.smallWinners[e],clickable:this.isCurrentBoard(e),onClick:function(a){return t.handleClick(a,e)}},e)}},{key:"render",value:function(){var e;e=this.state.winner?this.state.winner+" is the winner!":-1===this.state.smallWinners.indexOf(null)?"No one won, try again!":"Next player: "+(this.state.xIsNext?"X":"O");var t=ne("game",this.props.size,this.renderBoard);return Object(K.jsxs)("div",{className:"game-container",children:[t,Object(K.jsx)("div",{className:"game-info",children:Object(K.jsx)("div",{children:e})})]})}}]),a}(x.a.Component),ce=function(e){Object(y.a)(a,e);var t=Object(A.a)(a);function a(e){var n;return Object(C.a)(this,a),(n=t.call(this,e)).state={boardSize:3,matchID:0},n.newGame=n.newGame.bind(Object(R.a)(n)),n}return Object(g.a)(a,[{key:"newGame",value:function(e){this.setState((function(t){return{boardSize:e,matchID:t.matchID+1}}))}},{key:"render",value:function(){return Object(K.jsx)("div",{className:"app",children:Object(K.jsxs)("div",{children:[Object(K.jsx)(W,{}),Object(K.jsxs)(ae,{children:[Object(K.jsx)(oe,{defaultValues:this.state,submitCallback:this.newGame}),Object(K.jsx)("br",{}),Object(K.jsx)(ie,{size:this.state.boardSize},this.state.matchID)]})]})})}}]),a}(x.a.Component),oe=function(e){Object(y.a)(a,e);var t=Object(A.a)(a);function a(e){var n;return Object(C.a)(this,a),(n=t.call(this,e)).state={boardSize:n.props.defaultValues.boardSize},n.handleChange=n.handleChange.bind(Object(R.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(R.a)(n)),n}return Object(g.a)(a,[{key:"handleChange",value:function(e){var t=e.target,a=t.value,n=t.name;this.setState(Object(te.a)({},n,a))}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.props.submitCallback(this.state.boardSize)}},{key:"render",value:function(){return Object(K.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(K.jsx)("input",{type:"submit",value:"New game"}),Object(K.jsxs)("label",{className:"board-size",children:["Board size",Object(K.jsx)("input",{name:"boardSize",type:"number",min:"2",max:"3",value:this.state.boardSize,onChange:this.handleChange})]})]})}}]),a}(x.a.Component),le=ce,ue=(a(43),function(e){Object(y.a)(a,e);var t=Object(A.a)(a);function a(){return Object(C.a)(this,a),t.apply(this,arguments)}return Object(g.a)(a,[{key:"render",value:function(){return Object(K.jsx)(S.a,{children:Object(K.jsxs)(k.c,{children:[Object(K.jsx)(k.a,{path:"/",exact:!0,component:_}),Object(K.jsx)(k.a,{path:"/settings",exact:!0,component:G}),Object(K.jsx)(k.a,{path:"/createaccount",exact:!0,component:ee}),Object(K.jsx)(k.a,{path:"/game",exact:!0,component:le})]})})}}]),a}(m.Component));U.a.render(Object(K.jsx)(ue,{}),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.65f8ed00.chunk.js.map